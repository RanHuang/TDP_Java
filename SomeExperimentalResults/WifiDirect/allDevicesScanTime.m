clear;
initValue=0;
step=1;

serviceTime=[1648,1999,5568,2910,2138,5320,2949,4330,2437,2490,3141,2558,1913,2280,1478,1638,3681,2264,3082,2994,5310,2060,2784,5454,2367,2652,2450,457,1125,3833,1263,1567,1594,1199,1904,4843,506,485,545,1461,518,619,466,488,554,913,2947,973,2075,519,502,379,555,2826,1792,587,564,2153,3131,504,3812,2934,505,1660,992,2684,4973,473,475,549,1617,1950,1909,1396,1396,3548,995,3582,2491,2347,4279,3304,1458,2389,585,1989,1057,544,11424,597,1038,4492,451,1344,1268,438,546,1941,3389,2181,1338,2001,21838,2222,6133,2320,7044,467,567,554,4954,3671,468,1866,557,486,1083,483,2639,463,3865,514,1262,518,2992,3393,6981,420,3611];
autonomousTime=[1479,2256,1436,1352,1416,1379,1322,1553,993,2060,1938,1931,1522,991,1948,2053,1943,1934,2055,1950,2044,1934,1942,1352,980,2001,2944,1992,1981,1388,1811,1373,1539,1839,1443,1394,1941,1474,1515,543,364,474,400,508,422,372,422,369,413,426,482,488,466,473,440,458,444,325,440,403,443,367,321,469,474,435,401,421,479,504,505,399,543,426,529,362,482,401,350,359,345,390,460,489,395,342,449,558,462,449,480,399,372,517,511,419,404,385,1024,401,415,434,328,384,389,570,578,460,432,400,388,434,431,414,420,888,475,413,521,454,448,439,353,463,487,437,491,427,361,391,434,406,487,382,433,377,390,449,458,440,392,423,387,481,433,402,510,451,491,455,438,393,391,392,460,543,379,429,387,439,476,420,465,475,452,452];
activeTime=[1412,2511,2976,987,2042,2413,1483,2491,2457,2753,2029,946,1419,1976,3534,2462,1917,2037,3590,1356,1953,2501,3043,2047,1357,2831,2612,2089,1983,3558,2193,487,1081,440,2270,1531,1090,1261,940,983,477,2014,343,398,400,425,354,1507,3699,423,1386,1076,1456,372,429,1121,1330,2738,486,423,2746,1520,2779,344,827,417,486,536,2823,386,355,2157,1468,357,834,1196,776,2159,2121,340,1182,2233,3741,1673,1148,336,1231,366,1524,491,413,1171,328,4358,1194,468,1229,2148,372,3950,2045,1318,441,1325,2756,390,1769,480,1605,2243,841,2256,1393,466,315,463,1703,1450,445,948,780,1662,1417,869,417,392,946,983,969,1282,395,1990,466,513,422,501];
persistantTime=[1926,1007,3196,1009,3453,1010,1934,1519,1940,1012,1950,2957,4900,1776,2472,994,5599,1934,1018,1946,1010,3203,3543,1945,1012,1946,2577,1029,1926,2515,3394,1422,1953,1932,1861,1010,1928,1921,2387];

endValue1=ceil(max(serviceTime));
endValue2=ceil(max(autonomousTime));
endValue3=ceil(max(activeTime));
endValue4=ceil(max(persistantTime));

endValue=max(max(endValue1,endValue2),max(endValue3,endValue4));
endValue = endValue/1000.0;
serviceTime = serviceTime/1000.0;
autonomousTime = autonomousTime/1000.0;
activeTime = activeTime/1000.0;
persistantTime = persistantTime/1000.0;

[xTime1,yPercentage1]=cdf(initValue,step,endValue,serviceTime);
[xTime2,yPercentage2]=cdf(initValue,step,endValue,autonomousTime);
[xTime3,yPercentage3]=cdf(initValue,step,endValue,activeTime);
[xTime4,yPercentage4]=cdf(initValue,step,endValue,persistantTime);

plot(xTime1,yPercentage1,'r','linewidth',1.5);
hold on 
plot(xTime2,yPercentage2,'g','linewidth',1.4);
hold on
plot(xTime3,yPercentage3,'b','linewidth',1.4);
hold on
plot(xTime4,yPercentage4,'c','linewidth',1.4);

ylabel('F(x)')
xlabel('时间(秒)')
%legend('Service Discovery','Autonomous Mode','Active Scan','Persistant Mode');
legend('服务发现模式','自动模式','主动模式','永久模式');
title('扫描发现设备的时间');