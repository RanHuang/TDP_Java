clear;
initValue=0;
step=1;

activeTime=[2400,2976,2277,3864,3374,11867,4623,8098,3525,2255,5772,3596,5808,4132,4601,7476,5734,5737,4284,8297,5070,4879,7420,2273,4620,2347,2786,3926,2090,3561,3744,3818,4066,5028,5933,3010,4853,3774,3949,2848,6764,3695,4310,3408,5608,4553,2347,3675,5239,10148,2557,9646,2350,3872,10507,3785,8549,2615,4765,3696,2263,8057,4714,2284,5913,6689,2310,10172,4600,7614,4126,9239,11180,3947,8552,4819,10682,13819,3066,3101,2963,2430,2967,2970,4660,4120,4882,5450,3448,3457,5380,4454,4581,6535,12036,6753,4252,3517,3992,3110,2240,4951,4838,4627,7149,12031,4009,6829,2332,3530,4658,4509,3885,7320,7159,5422,7427,3747,3138,3894,6384,5826,15656,8215,5697,4436,3903,6113,9844,6283,6323,4745,4722,12653,6150,5665,6558,8071,4870,3725,5376,5895,10931,6435,6999,5239,6996,5031,5629,5391,5815,4502,6379,5930,6711,5699,7231,9797,4567];
autonomousTime=[4257,7244,17395,4256,4878,4178,3922,4554,3777,5433,5349,5708,5919,3817,5749,5781,5311,5251,5922,5428,5926,5222,6611,3625,3827,5860,5466,5386,5399,4060,4681,3605,7205,4836,9161,18593,5370,3747,4287,1671,1348,1581,1338,1308,1896,1331,1499,1639,1493,1463,1688,1767,1807,1387,1395,1323,1425,1372,1403,1657,1443,1488,1491,1352,1341,1696,1667,1600,1545,1483,1692,1768,1343,1770,1724,1523,1570,1369,1655,1844,1343,2063,1686,1976,1704,1806,1595,1427,1443,1337,1732,1612,1273,1378,1377,1706,1531,1459,1389,1539,1342,1652,1460,1696,1293,1325,1599,1286,1515,1419,1348,1298,1294,1602,1694,1360,1371,1710,1590,1532,1488,1452,1589,1795,1440,1657,1548,1628,1625,1667,1598,1411,1651,1569,1363,1399,1509,1303,1321,2113,1611,1638,1723,1298,1522,1283];
serviceTime=[8499,7370,9770,5343,6239,8438,6836,7182,6247,5144,5991,6688,5975,5119,9384,5807,6547,5036,6642,6265,7788,7928,6496,11056,6193,5674,6216,2186,3652,1787,1744,4378,10544,3671,3450,2537,5879,1695,3178,2937,11579,2163,2157,11801,3686,6216,3552,7658,3953,6443,4054,8979,2112,4289,3876,1756,1759,5332,6204,2281,3766,4869,6840,9031,14136,1793,2211,3618,2305,1739,3310,1797,1743,3639,4462,3000,9207,5491,11362,1714,1788,6948,2156,3561,4217,2175,10429,2476,5087,3431,2384,3845,8858,4661,4181,4906,3675,4536,3391,1917,2537,2165,5918,1788,4563,4890,2208,2157,4989,2100,6856,2144,4514,3245,1789,5294,3860,2083,7646,3859,3426,8156,2780,2147,3103,3774,2172,2960];
persistantTime=[4242,10242,12280,9768,11534,9556,9854,3629,10202,2906,10508,5240,14385,4018,14064,3308,14462,10449,9722,10217,9879,11376,15284,13402,3150,10693,4906,9788,13478,10807,6065,3191,12897,4243,9922,3055,12988,10690,10789];

endValue1=ceil(max(serviceTime));
endValue2=ceil(max(autonomousTime));
endValue3=ceil(max(activeTime));
endValue4=ceil(max(persistantTime));

endValue=max(max(max(endValue1,endValue2),endValue3),endValue4);
endValue = endValue/1000.0;
serviceTime = serviceTime/1000.0;
autonomousTime = autonomousTime/1000.0;
activeTime = activeTime/1000.0;
persistantTime = persistantTime/1000.0;


[xTime1,yPercentage1]=cdf(initValue,step,endValue,serviceTime);
[xTime2,yPercentage2]=cdf(initValue,step,endValue,autonomousTime);
[xTime3,yPercentage3]=cdf(initValue,step,endValue,activeTime);
[xTime4,yPercentage4]=cdf(initValue,step,endValue,persistantTime);

plot(xTime1,yPercentage1,'r','linewidth',1.5);
hold on 
plot(xTime2,yPercentage2,'g','linewidth',1.4);
hold on
plot(xTime3,yPercentage3,'b','linewidth',1.4);
hold on
plot(xTime4,yPercentage4,'c','linewidth',1.4);

ylabel('F(x)')
xlabel('时间(秒)')
%legend('Service Discovery','Autonomous Mode','Active Scan','Persistant Mode');
legend('服务发现模式','自动模式','主动模式','永久模式');
title('从扫描设备至建立Wi-Fi Direct连接的时间');